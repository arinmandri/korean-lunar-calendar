
```java
import xyz.arinmandri.koreanlunarcalendar.KLunarDate;
```

## 소개

한국 음력.

아직 만드는 중임.


## 쓰는 법

`java.time.LocalDate`를 양력을 나타내는 클래스라고 침.

### 양력 음력 변환

##### 양력에서 음력으로

```java
LocalDate ld = LocalDate.of( 2001, 1, 1 );
KLunarDate kd = KLunarDate.from( ld );
System.out.println( kd );
```

```
2000-12-07
```

##### 음력에서 양력으로

```java
KLunarDate kd = KLunarDate.of( 2000, 12, 7 );
LocalDate ld = kd.toLocalDate();
System.out.println( ld );
```

```
2001-01-01
```




## 지원되는 날짜 범위

* **맨앞날**
  - 양력 1864-02-08
  - 음력 1864-01-01
   TODO 더 수집하려면 수집되니까 나중에 더 하든말든….

* **맨뒷날**
  - 양력 2051-02-10
  - 음력 2050-12-29
  공식적으로 음력 2050-11-18까지만 알려주는데 11월이 대월이라고는 하니까 여기까지는 알 수 있음.





## 등장인물

##### KLunarDate

우리의 주인공. `java.time.LocalDate`처럼 썼으면 좋겠다고 생각했다.

##### NonexistentDateException

없는 날짜(25월 99일이라든가)를 생성하려면 생기는 예외.

##### OutOfRangeException

지원 범위 밖의 날짜를 생성하려면 생기는 예외. 음력의 지원범위는 양력인 LocalDate에 비하면 아주 작다.

## 음력이 대체 뭐냐

맞다. 내가 문외한이라곤 해도 내 나름 라이브러리 만들겠다는데 뭘 알아야 할 것 아닌가?

그래서 찾아봤는데 결론은 모르겠다고.

한 달의 기준은 달의 규칙적인 위상변화, 우리가 잘 아는 그믐달-반달-보름달-반달-그믐달. 그 중에서도 합삭(쉽게 말해 완전한 그믐달의 순간)이 포함된 날을 1일으로 삼음. 주기는 대략 29.5일이므로 29일인 달과 30일인 달이 있으니 각각 소월, 대월이라고 함. 그런데 4년에 한 번 윤년이 있고 어쩌고 하는 양력과는 달리 얘는 몇 년에 한 번 이런 규칙이 없고 실제 달이 합삭일 때를 기준으로 함. 여기까지 오케이.

그런데 음력 12개월과 1해의 길이가 꽤나 차이나므로 가끔 윤달을 넣는다. 근데 언제? 몰라.

그 중에서도 몇 월이 1월이다? 몰라.

아니; 사실은 시헌력이니, 동지가 11월이니, 치윤법이 어쩌고 하는 문서들을 찾기는 했는데. 그것들은 죄다 단편적이었고 뭔가 공식적인, 공신력 있는 어쩌고도 아니잖아? "아 내가 여기서 찾아봤습니다" 하고 어떻게 얘기하냐고. 음력은 시헌력이라고 나무위키가 그래. 그런데 나무위키가 없다면 음력이 뭐야? 아! 모르겠다! 그리고 시헌력도 하나로 딱 있지가 않고 그 안에서 뭐가 어쩌고 한다. 이게 도대체? 내가 할 줄 아는 거라곤 구글에 검색하고 인공지능한테 물어보기밖에 없다고!

내가 알아낸 거라곤 우주항공청장이라는 분이 우리나라 달력을 만든다는 법뿐이야. 근데 바로 그 분이! "우리나라 음력은 이렇게 만든답니다" 하고 소개를 안 해주시잖아.

그래도 어쨌든 우리의 친절한 한국천문연구원 API이가 알려주는 음력 월별 1일 날짜에 남은 일수만 더하면 음력날짜 짜잔 완성이다. 이런 바로 나같은 문외한도 음력 라이브러리를 만든다. 아무튼 공공데이터 API가 알려주는 값이랑 비교해서 똑같은 값 나오니 좋았쓰.
